{"version":3,"sources":["../server/index.js"],"names":["app","mongoUrl","use","bodyParser","json","users","moments","articles","messages","req","res","url","send","mongoose","connect","err","console","log","listen"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,wBAAZ,C,CAAuB;AACvB,IAAMC,WAAW,sCAAjB;;AAEAD,IAAIE,GAAJ,CAAQC,qBAAWC,IAAX,EAAR;AACAJ,IAAIE,GAAJ,CAAQ,OAAR,EAAiBG,eAAjB;AACAL,IAAIE,GAAJ,CAAQ,SAAR,EAAmBI,iBAAnB;AACAN,IAAIE,GAAJ,CAAQ,UAAR,EAAoBK,kBAApB;AACAP,IAAIE,GAAJ,CAAQ,UAAR,EAAoBM,kBAApB;;AAEAR,IAAIE,GAAJ,CAAQ,UAACO,GAAD,EAAMC,GAAN,EAAc;AAClB,QAAID,IAAIE,GAAJ,KAAY,cAAhB,EAA+B;AAC3B;AACH;AACDD,QAAIE,IAAJ,CAAS,KAAT;AACH,CALD;;AAOAC,mBAASC,OAAT,CAAiBb,QAAjB,EAA2B,UAACc,GAAD,EAAS;AAChC,QAAGA,GAAH,EAAQ;AACJC,gBAAQC,GAAR,CAAY,UAAZ;AACA;AACH;AACDD,YAAQC,GAAR,CAAY,UAAZ;AACAjB,QAAIkB,MAAJ,CAAW,IAAX,EAAiB,UAACH,GAAD,EAAS;AACtB,YAAGA,GAAH,EAAQC,QAAQC,GAAR,CAAY,UAAZ,EAAR,KACKD,QAAQC,GAAR,CAAY,UAAZ;AACR,KAHD;AAIH,CAVD","file":"index.js","sourcesContent":["import express from \"express\";\r\nimport mongoose from \"mongoose\";\r\nimport bodyParser from 'body-parser';\r\n\r\nimport users from \"./routers/users\";\r\nimport moments from \"./routers/moments\";\r\nimport articles from \"./routers/articles\";\r\nimport messages from \"./routers/messages\";\r\n\r\nconst app = express()  // 应用级中间件\r\nconst mongoUrl = 'mongodb://localhost:27017/arrow_blog';\r\n\r\napp.use(bodyParser.json());\r\napp.use('/user', users);\r\napp.use('/moment', moments);\r\napp.use('/article', articles);\r\napp.use('/message', messages);\r\n\r\napp.use((req, res) => {\r\n    if( req.url === '/favicon.ico'){\r\n        return;\r\n    }\r\n    res.send(\"404\");\r\n})\r\n\r\nmongoose.connect(mongoUrl, (err) => {\r\n    if(err) {\r\n        console.log(\"数据库连接失败！\");\r\n        return;\r\n    }\r\n    console.log(\"数据库连接成功！\");\r\n    app.listen(8080, (err) => {\r\n        if(err) console.log(\"服务器开启失败！\");\r\n        else console.log(\"服务器开启成功！\");\r\n    })\r\n})"]}